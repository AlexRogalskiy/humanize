<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Humanize for Java</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/zenburn.css">
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/highlight.pack.js"></script>
    <script>
      hljs.tabReplace = '    ';
      hljs.initHighlightingOnLoad();
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Humanize</h1>
        <p>Java facility for adding a “human touch” to data.</p>
        <p class="view"><a href="https://github.com/mfornos/humanize">View the Project on GitHub <small>mfornos/humanize</small></a></p>
        <ul>
          <li><a href="https://github.com/mfornos/humanize">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Humanize for Java</h1>

<p>Humanize is a Java facility for adding a “human touch” to data. It is thread-safe and supports per-thread internationalization.</p>
<p>Exists in two flavors: <strong>humanize-slim</strong> and <strong>humanize-icu</strong>. Humanize-slim only depends on guava and standard Java APIs while humanize-icu provides a concise facade for access to the <a href="http://icu-project.org/">International Components for Unicode</a> (ICU) Java APIs.</p>

<h2>Getting Started</h2>

<h3>Maven</h3>

<p>Last version:</p>
<pre><code>&lt;humanize.version&gt;0.1.5&lt;/humanize.version&gt;</code></pre>
<p>For the <strong>slim flavor</strong> write the following in your <em>pom</em>:</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;com.github.mfornos&lt;/groupId&gt;
  &lt;artifactId&gt;humanize-slim&lt;/artifactId&gt;
  &lt;version&gt;${humanize.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<p>For the <strong>full-fledged ICU</strong> distribution:</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;com.github.mfornos&lt;/groupId&gt;
  &lt;artifactId&gt;humanize-icu&lt;/artifactId&gt;
  &lt;version&gt;${humanize.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<p></p>


<h2>Dependencies</h2>
<h3>
Humanize-slim</h3>
<ul>
<li>Only depends on guava 13.0</li>
</ul><h3>
Humanize-icu</h3>
<ul>
<li>humanize-slim  ${humanize.version}</li>
	<li>icu4j 49.1</li>
</ul>
<p>
<span style="font-size:1.5em;">☝</span>
<em>
If you need customize the data included by default in the ICU distribution (all features and languages ~7.1MB), the <a href="http://apps.icu-project.org/datacustom/">ICU Data Library Customizer</a> may be useful.
</em></p>
<h2>Usage</h2>

<p>Using Humanize is dead simple.</p>

<ol>
<li>Import the static methods of the Humanize class that you want to call.</li>
<li>Invoke these methods.</li>
</ol>

<pre><code class="java">import static humanize.Humanize.binaryPrefix;
 
class SomeClass {

  void doSomething() {
  
    String size = binaryPrefix(1325899906842624L); // 1.18 PB
    
  }
  
}</code></pre>
<p></p>
<h2>Cache configuration</h2>
<p>By default the caches are configured to expire after 1 hour past the last access. If you want to change this behavior you need to provide a <code>humanize.properties</code> file, or specify the location of a properties file using the <code>humanize.config</code> system property, with a CacheBuilderSpec string configuration like this:</p>
<pre><code>cache.builder.spec:expireAfterAccess=15m</code></pre>
<p>The value must follow the CacheBuilderSpec syntax. The string syntax is a series of comma-separated keys or key-value pairs, each corresponding to a CacheBuilder method.</p>
<ul>
<li>concurrencyLevel=[integer]: sets CacheBuilder.concurrencyLevel.</li>
	<li>initialCapacity=[integer]: sets CacheBuilder.initialCapacity.</li>
	<li>maximumSize=[long]: sets CacheBuilder.maximumSize.</li>
	<li>maximumWeight=[long]: sets CacheBuilder.maximumWeight.</li>
	<li>expireAfterAccess=[duration]: sets CacheBuilder.expireAfterAccess(long, java.util.concurrent.TimeUnit).</li>
	<li>expireAfterWrite=[duration]: sets CacheBuilder.expireAfterWrite(long, java.util.concurrent.TimeUnit).</li>
	<li>refreshAfterWrite=[duration]: sets CacheBuilder.refreshAfterWrite(long, java.util.concurrent.TimeUnit).</li>
	<li>weakKeys: sets CacheBuilder.weakKeys().</li>
	<li>softValues: sets CacheBuilder.softValues().</li>
	<li>weakValues: sets CacheBuilder.weakValues().</li>
</ul><p>Durations are represented by an integer, followed by one of “d”, “h”, “m”, or “s”, representing days, hours, minutes, or seconds respectively. (There is currently no syntax to request expiration in milliseconds, microseconds, or nanoseconds.)</p>
<h2>Javadoc</h2>
<ul>
<li><a href="http://mfornos.github.com/humanize/humanize-slim-apidocs/index.html">Documentation for humanize-slim</a></li>
	<li><a href="http://mfornos.github.com/humanize/humanize-icu-apidocs/index.html">Documentation for humanize-icu</a></li>
</ul><h2>Examples</h2>
<h3>Date&amp;Time</h3>
<pre><code class="java">naturalTime(new Date()); // == "right now"
naturalTime(new Date(1000 * 60 * 60 * 24 * 1), new Date(0)); // == "one day ago"
naturalTime(new Date(0), new Date(1000 * 60 * 60 * 24 * 1)); // == "one day from now"</code></pre>
<p></p>
<h3>Text</h3>
<p><strong>Pluralize</strong></p>
<pre><code class="java">MessageFormat msg = pluralize("There {0} on {1}.::are no files::is one file::are {2} files");
msg.render(0, "disk");    // == "There are no files on disk."
msg.render(1, "disk");    // == "There is one file on disk."
msg.render(1000, "disk"); // == "There are 1,000 files on disk."</code></pre>
<pre><code class="java">MessageFormat msg = pluralize("nothing::one thing::{0} things");
msg.render(-1); // == "nothing"
msg.render(0);  // == "nothing"
msg.render(1);  // == "one thing"
msg.render(2);  // == "2 things"</code></pre>
<pre><code class="java">MessageFormat msg = pluralize("one thing::{0} things");
msg.render(-1); // == "-1 things"
msg.render(0);  // == "0 things"
msg.render(1);  // == "one thing"
msg.render(2);  // == "2 things" </code></pre>
<p><strong>Slugify</strong></p>
<pre><code class="java">slugify("Cet été, j’en ai rien à coder"); // == "cet-ete-jen-ai-rien-a-coder" </code></pre>
<p><strong>Interpolation</strong></p>
<pre><code class="java">EmojiInterpolator.interpolate(
        "&lt;img src=\"imgs/{0}.png\" title=\"{0}\" /&gt;;", 
        "Hi :sparkles:!");

// == "Hi &lt;img src=\"imgs/sparkles.png\" title=\"sparkles\" /&gt;!"</code></pre>
<h3>More</h3>
<p><em>See <code>src/test/.../HumanizeTest</code> for complete examples.</em></p>

<h2>Principal Methods</h2>
<h3>Date&amp;Time</h3>
<table>
<tr>
<th>Method </th>
		<th>Description </th>
		<th>Output </th>
		<th>Slim </th>
		<th>ICU </th>
	</tr>
<tr>
<td> naturalDay </td>
		<td> For dates that are the current day or within one day, return ‘today’,‘tomorrow’ or ‘yesterday’, as appropriate. </td>
		<td> ‘today’, ‘tomorrow’, ‘yesterday’ or the date formatted </td>
		<td> ✔ </td>
		<td> ✔ </td>
	</tr>
<tr>
<td> naturalTime </td>
		<td> Computes both past and future relative dates. </td>
		<td> ‘2 days from now’, ‘10 years ago’, ‘3 minutes from now’, etc. </td>
		<td> ✔ </td>
		<td> ✔ </td>
	</tr>
<tr>
<td> nanoTime </td>
		<td> Formats a number of nanoseconds as the proper ten power unit. </td>
		<td> ‘1.5µs’, ‘10.51ms’, ‘30ns’, etc. </td>
		<td> ✔ </td>
		<td> - </td>
	</tr>
<tr>
<td> duration </td>
		<td> Formats a number of seconds as hours, minutes and seconds. </td>
		<td> ‘1 sec.’, ‘1:02:10’, etc.</td>
		<td> – </td>
		<td> ✔ </td>
	</tr>
<tr>
<td> smartDateFormat </td>
		<td> Guesses the best locale-dependent pattern to format the date/time fields that the skeleton specifies. </td>
		<td> skeleton ‘MMMd’ produces ‘11 Dec.’ </td>
		<td> – </td>
		<td> ✔ </td>
	</tr>
</table><h3>Numbers</h3>
<table>
<tr>
<th>Method </th>
		<th>Description </th>
		<th>Output </th>
		<th>Slim </th>
		<th>ICU </th>
	</tr>
<tr>
<td> ordinal </td>
		<td> Converts a number to its ordinal as a string. </td>
		<td> ‘1st’, ‘2nd’, ‘3rd’, etc. </td>
		<td> ✔ </td>
		<td> ✔ </td>
	</tr>
<tr>
<td> spellBigNumber </td>
		<td> Converts a big number to a friendly text representation. </td>
		<td> ‘2.3 thousand’, ‘1 million’, ‘-1.55 billion’, ‘3 decillion’, ‘2 googol’, etc. </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> spellDigit </td>
		<td> For decimal digits, returns the number spelled out. </td>
		<td> ‘one’, ‘two’, ‘three’, etc. </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> spellNumber </td>
		<td> Converts the given number to words. </td>
		<td> ‘twenty-three’, ‘two thousand eight hundred and forty’, ‘one million four hundred and twelve thousand six hundred and five’, etc.  </td>
		<td> – </td>
		<td> ✔ </td>
	</tr>
</table><h3>Units</h3>
<table>
<tr>
<th>Method </th>
		<th>Description </th>
		<th>Output </th>
		<th>Slim </th>
		<th>ICU </th>
	</tr>
<tr>
<td> binaryPrefix </td>
		<td> Converts a given number to a string preceded by the corresponding binary International System of Units (SI) prefix. </td>
		<td> ‘2 bytes’, ‘1.5 kB’, ‘5 MB’, ‘1.18 PB’, etc. </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> metricPrefix </td>
		<td> Converts a given number to a string preceded by the corresponding decimal multiplicative prefix.  </td>
		<td> ‘100k’, ‘1M’, ‘3.5M’, etc.  </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> formatCurrency </td>
		<td> Smartly formats the given number as a monetary amount. </td>
		<td> ‘£34’, ‘£1,000’, ‘£12.50’, etc. </td>
		<td> ✔ </td>
		<td> ✔ </td>
	</tr>
<tr>
<td> formatPluralCurrency </td>
		<td> Smartly formats the given number as a monetary amount in plural form. </td>
		<td> ‘34 British pounds sterling’, ‘1,500.55 British pounds sterling’, ‘1 euro’, etc. </td>
		<td> – </td>
		<td> ✔ </td>
	</tr>
<tr>
<td> formatPercent </td>
		<td> Formats the given ratio as a percentage. </td>
		<td> ‘500%’, ‘56%’, etc.  </td>
		<td> ✔ </td>
		<td> ✔ </td>
	</tr>
</table><h3>Text</h3>
<table>
<tr>
<th>Method </th>
		<th>Description </th>
		<th>Output </th>
		<th>Slim </th>
		<th>ICU </th>
	</tr>
<tr>
<td> pluralize </td>
		<td> Constructs a message with pluralization logic by the means of ChoiceFormat. Refer to <em>messageFormatInstance</em> for pluralization using CLDR Plural Rules. </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> camelize </td>
		<td> Makes a phrase camel case. Spaces and underscores will be removed.  </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> capitalize </td>
		<td> Capitalizes a string (first letter uppercase and the rest lowercase). </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> decamelize </td>
		<td> Converts a camel case string into a human-readable name. </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> titleize </td>
		<td> Capitalize all the words, and replace some characters in the string to create a nice looking title. </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> transliterate </td>
		<td> Strips diacritic marks. </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> slugify </td>
		<td> Transforms a text into a representation suitable to be used in an URL. </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> mask </td>
		<td> Formats the given text with the mask specified. </td>
		<td> for ‘12345G’ with mask ‘__ ___/_’ produces ‘12 345/G’ </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> wordWrap </td>
		<td> Truncate a string to the closest word boundary after a number of characters. </td>
		<td> – </td>
		<td> ✔ </td>
		<td> – </td>
	</tr>
<tr>
<td> messageFormatInstance </td>
		<td> Returns an ICU based MessageFormat instance for the current thread. </td>
		<td> – </td>
		<td> – </td>
		<td> ✔ </td>
	</tr>
<tr>
<td> replaceSupplementary </td>
		<td> Replaces characters outside the Basic Multilingual Plane with their name. </td>
		<td> ‘SMILING FACE WITH SMILING EYES’ for the corresponding Emoji char </td>
		<td> ✔ </td>
		<td> ✔ </td>
	</tr>
</table>

<h2>Epilog</h2>

<div style="display: block; overflow: hidden; margin-bottom: 10px;">
  <span style="float:left;"><span style="font-size:1.5em;">☄</span> Have fun and stay fresh!</span>
  <span style="float:right; margin-right:10px;">
    <a href="http://travis-ci.org/mfornos/humanize">
       <img src="https://secure.travis-ci.org/mfornos/humanize.png?branch=master" alt="build status" />
    </a>
  </span>
</div>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/mfornos">mfornos</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
    
  </body>
</html>
